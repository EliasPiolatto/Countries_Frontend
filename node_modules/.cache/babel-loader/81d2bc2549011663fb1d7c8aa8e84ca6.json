{"ast":null,"code":"import _slicedToArray from\"C:/Users/Gamer/Desktop/Countries_Frontend/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import ContainerCards from\"../../Containers/ContainerCards\";import{useSelector,useDispatch}from\"react-redux\";import{getActivities,getCountries}from\"../../Redux/actions/actions\";import Paginated from\"../Paginated/Paginated\";import{orderBy}from\"../../Redux/actions/orderBy\";import{filterAct,filterContinent}from\"../../Redux/actions/filters\";import SearchBar from\"../Search/SearchBar\";import'./divsHome.css';import setError from\"../../Redux/actions/setError\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Home(){var dispatch=useDispatch();var allCountries=useSelector(function(state){return state.allCountries;});var allActivities=useSelector(function(state){return state.activities;});var _useState=useState(1),_useState2=_slicedToArray(_useState,2),currPage=_useState2[0],setCurrPage=_useState2[1];var _useState3=useState(9),_useState4=_slicedToArray(_useState3,2),countriesPage=_useState4[0],setCountriesPage=_useState4[1];var lastCountry=currPage===1?currPage*countriesPage:currPage*countriesPage-1;var firstCountry=lastCountry-countriesPage;var currCountries=allCountries.slice(firstCountry,lastCountry);function paginatedNum(pageNum){setCurrPage(pageNum);pageNum===1?setCountriesPage(9):setCountriesPage(10);};useEffect(function(){dispatch(getCountries());dispatch(getActivities());},[dispatch]);function handleOrder(e){e.preventDefault();dispatch(orderBy(e.target.value));setCurrPage(1);};function handleFilterAct(e){e.preventDefault();dispatch(filterAct(e.target.value));setCurrPage(1);};function handleFilterCont(e){e.preventDefault();dispatch(filterContinent(e.target.value));setCurrPage(1);};function onClickRestore(){dispatch(getCountries());setCountriesPage(9);setCurrPage(1);};var error=useSelector(function(state){return state.error;});useEffect(function(){if(error!=='')alert(error);dispatch(setError(''));},[error]);return/*#__PURE__*/_jsx(\"div\",{className:\"divsHome\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"containerFilters\",children:[/*#__PURE__*/_jsxs(\"select\",{className:\"filter\",onChange:function onChange(e){return handleFilterAct(e);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"All\",children:\"Filter by activities\"}),allActivities===null||allActivities===void 0?void 0:allActivities.map(function(act){return/*#__PURE__*/_jsx(\"option\",{value:act.name,children:act.name},allActivities.indexOf(act));})]}),/*#__PURE__*/_jsxs(\"select\",{className:\"filter\",onChange:function onChange(e){return handleFilterCont(e);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"All\",children:\"Filter by continents\"},'All'),/*#__PURE__*/_jsx(\"option\",{value:\"Africa\",children:\"Africa\"},'Africa'),/*#__PURE__*/_jsx(\"option\",{value:\"Antarctica\",children:\"Antarctica\"},'Antarctica'),/*#__PURE__*/_jsx(\"option\",{value:\"Asia\",children:\"Asia\"},'Asia'),/*#__PURE__*/_jsx(\"option\",{value:\"Europe\",children:\"Europe\"},'Europe'),/*#__PURE__*/_jsx(\"option\",{value:\"North America\",children:\"North America\"},'NorthAmerica'),/*#__PURE__*/_jsx(\"option\",{value:\"Oceania\",children:\"Oceania\"},'Oceania'),/*#__PURE__*/_jsx(\"option\",{value:\"South America\",children:\"South America\"},'SouthAmerica')]}),/*#__PURE__*/_jsxs(\"select\",{className:\"filter\",onChange:function onChange(e){return handleOrder(e);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"All\",children:\"Order by / Default\"}),/*#__PURE__*/_jsx(\"option\",{value:\"A-Z\",children:\"Order A-Z\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Z-A\",children:\"Order Z-A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"maxPop\",children:\"Order Max. pop. \\u25BC\"}),/*#__PURE__*/_jsx(\"option\",{value:\"minPop\",children:\"Order Min. pop. \\u25B2\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"restore\",onClick:function onClick(){return onClickRestore();},children:\"Restore\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(SearchBar,{setPagin:paginatedNum})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Paginated,{allCountries:allCountries,countriesPage:countriesPage,paginatedNum:paginatedNum,currPage:currPage})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(ContainerCards,{countries:currCountries})})]})});};","map":{"version":3,"names":["React","useState","useEffect","ContainerCards","useSelector","useDispatch","getActivities","getCountries","Paginated","orderBy","filterAct","filterContinent","SearchBar","setError","Home","dispatch","allCountries","state","allActivities","activities","currPage","setCurrPage","countriesPage","setCountriesPage","lastCountry","firstCountry","currCountries","slice","paginatedNum","pageNum","handleOrder","e","preventDefault","target","value","handleFilterAct","handleFilterCont","onClickRestore","error","alert","map","act","name","indexOf"],"sources":["C:/Users/Gamer/Desktop/Countries_Frontend/client/src/Components/Home/Home.js"],"sourcesContent":["import React,{ useState, useEffect } from \"react\";\r\nimport ContainerCards from \"../../Containers/ContainerCards\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getActivities, getCountries } from \"../../Redux/actions/actions\";\r\nimport Paginated from \"../Paginated/Paginated\";\r\nimport { orderBy } from \"../../Redux/actions/orderBy\";\r\nimport { filterAct, filterContinent } from \"../../Redux/actions/filters\";\r\nimport SearchBar from \"../Search/SearchBar\";\r\nimport './divsHome.css'\r\nimport setError from \"../../Redux/actions/setError\";\r\n\r\n\r\n\r\nexport default function Home(){\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const allCountries = useSelector((state)=> state.allCountries);\r\n    const allActivities = useSelector((state)=> state.activities);\r\n    \r\n    const [currPage, setCurrPage] = useState(1);\r\n    const [countriesPage, setCountriesPage] = useState(9);\r\n    const lastCountry = currPage===1 ? currPage * countriesPage : currPage * countriesPage -1;\r\n    const firstCountry = lastCountry - countriesPage;\r\n    const currCountries = allCountries.slice(firstCountry, lastCountry);\r\n\r\n    \r\n    function paginatedNum(pageNum){\r\n            setCurrPage(pageNum);\r\n            pageNum === 1 ? setCountriesPage(9) : setCountriesPage(10);\r\n        };\r\n\r\n    useEffect(()=>{\r\n            dispatch(getCountries());\r\n            dispatch(getActivities());\r\n        },[dispatch]);\r\n\r\n    function handleOrder(e){\r\n            e.preventDefault();\r\n            dispatch(orderBy(e.target.value));\r\n            setCurrPage(1);\r\n        };\r\n        \r\n    function handleFilterAct(e){\r\n        e.preventDefault();\r\n        dispatch(filterAct(e.target.value));\r\n        setCurrPage(1);\r\n    };\r\n\r\n    function handleFilterCont(e){\r\n        e.preventDefault();\r\n        dispatch(filterContinent(e.target.value));\r\n        setCurrPage(1);\r\n    };\r\n\r\n    function onClickRestore(){\r\n        dispatch(getCountries());\r\n        setCountriesPage(9);\r\n        setCurrPage(1);\r\n    };\r\n\r\n\r\n\r\nconst error = useSelector((state)=> state.error);\r\n\r\nuseEffect(()=>{\r\n  if(error !== '') alert(error);\r\n  dispatch(setError(''))\r\n}, [error]);\r\n\r\n    return (\r\n      <div className=\"divsHome\">\r\n\r\n        <div>\r\n          <div className=\"containerFilters\">\r\n            <select className=\"filter\" onChange={e => handleFilterAct(e)}>\r\n                    \r\n              <option value='All'>Filter by activities</option>\r\n              {\r\n                allActivities?.map(act => {\r\n                  return <option key={allActivities.indexOf(act)} value={act.name}>{act.name}</option>\r\n                })\r\n              }                   \r\n            </select>\r\n                \r\n            <select className=\"filter\" onChange={e => handleFilterCont(e)}>                  \r\n              <option value='All' key='All'>Filter by continents</option>\r\n              <option value='Africa' key='Africa'>Africa</option>\r\n              <option value='Antarctica' key='Antarctica'>Antarctica</option>\r\n              <option value='Asia' key='Asia'>Asia</option>\r\n              <option value='Europe' key='Europe'>Europe</option>\r\n              <option value='North America' key='NorthAmerica'>North America</option>\r\n              <option value='Oceania' key='Oceania'>Oceania</option>\r\n              <option value='South America' key='SouthAmerica'>South America</option>\r\n            </select>\r\n\r\n            <select className=\"filter\" onChange={e => handleOrder(e)}>\r\n              <option value='All'>Order by / Default</option>\r\n              <option value='A-Z'>Order A-Z</option>\r\n              <option value='Z-A'>Order Z-A</option>\r\n              <option value='maxPop'>Order Max. pop. ▼</option>\r\n              <option value='minPop'>Order Min. pop. ▲</option>\r\n            </select>\r\n                \r\n            <button className=\"restore\" onClick={()=>onClickRestore()}>Restore</button>\r\n          </div>\r\n\r\n          <div>\r\n            <SearchBar setPagin={paginatedNum}/>\r\n          </div>\r\n          <div>\r\n            <Paginated \r\n              allCountries={allCountries}\r\n              countriesPage={countriesPage}\r\n              paginatedNum={paginatedNum}\r\n              currPage={currPage}\r\n            />\r\n          </div>\r\n            \r\n          <div>\r\n            <ContainerCards countries={currCountries}/>\r\n          </div> \r\n\r\n        </div>\r\n      </div>\r\n    )\r\n};\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}